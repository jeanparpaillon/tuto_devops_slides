import{d as $,r as u,I as T,B as f,J as N,f as v,e as t,g as l,w as s,k as y,z as o,t as C,F,o as p,D as V}from"../modules/vue-Cho9hMGZ.js";import{u as B,j as H,s as m,k as D,l as E,m as I}from"../index-Diq4705d.js";import{_ as L,C as j}from"./NoteDisplay.vue_vue_type_style_index_0_lang-CQVtn-O0.js";import{_ as i}from"./IconButton.vue_vue_type_script_setup_true_lang-BQYPVM7o.js";import{_ as J}from"./Modal.vue_vue_type_script_setup_true_lang-Bp3BIPgn.js";import"../modules/shiki-DolGubX0.js";const M={class:"flex my-1"},R={class:"h-full pt-2 flex flex-col"},U={class:"flex-none border-t border-main",px3:"",py2:""},q={class:"flex-none border-t border-main"},A={class:"flex gap-1 items-center px-6 py-3"},G={key:0,class:"i-carbon:minimize"},K={key:1,class:"i-carbon:maximize"},O={class:"p2 text-center"},le=$({__name:"notes",setup(P){B({title:`Notes - ${I}`});const{slides:z,total:x}=H(),{isFullscreen:k,toggle:h}=E,_=u(),n=T("slidev-notes-font-size",18),a=f(()=>m.page),r=u(!1),b=f(()=>z.value.find(d=>d.no===a.value));N(a,()=>{_.value?.scrollTo({left:0,top:0,behavior:"smooth"}),window.scrollTo({left:0,top:0,behavior:"smooth"})});function w(){n.value=n.value+1}function S(){n.value=n.value-1}const g=f(()=>{const d=m.clicks,e=m.clicksTotal;return D(u(d),void 0,e)});return(d,e)=>(p(),v(F,null,[t(J,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=c=>r.value=c),class:"px-6 py-4 flex flex-col gap-2"},{default:s(()=>[e[3]||(e[3]=l("div",{class:"flex gap-2 text-xl"},[l("div",{class:"i-carbon:information my-auto"}),V(" Help ")],-1)),e[4]||(e[4]=l("div",{class:"prose dark:prose-invert"},[l("p",null,"This is the hands-free live notes viewer."),l("p",null,"It's designed to be used in a separate view or device. The progress is controlled by and auto synced with the main presenter or slide.")],-1)),l("div",M,[l("button",{class:"slidev-form-button",onClick:e[0]||(e[0]=c=>r.value=!1)}," Close ")])]),_:1},8,["modelValue"]),l("div",{class:"fixed top-0 left-0 h-3px bg-primary transition-all duration-500",style:y({width:`${(a.value-1)/(o(x)-1)*100+1}%`})},null,4),l("div",R,[l("div",{ref_key:"scroller",ref:_,class:"px-5 flex-auto h-full overflow-auto",style:y({fontSize:`${o(n)}px`})},[t(L,{note:b.value?.meta.slide.note,"note-html":b.value?.meta.slide.noteHTML,placeholder:`No notes for Slide ${a.value}.`,"clicks-context":g.value,"auto-scroll":!0},null,8,["note","note-html","placeholder","clicks-context"])],4),l("div",U,[t(j,{"clicks-context":g.value,readonly:""},null,8,["clicks-context"])]),l("div",q,[l("div",A,[t(i,{title:o(k)?"Close fullscreen":"Enter fullscreen",onClick:o(h)},{default:s(()=>[o(k)?(p(),v("div",G)):(p(),v("div",K))]),_:1},8,["title","onClick"]),t(i,{title:"Increase font size",onClick:w},{default:s(()=>[...e[5]||(e[5]=[l("div",{class:"i-carbon:zoom-in"},null,-1)])]),_:1}),t(i,{title:"Decrease font size",onClick:S},{default:s(()=>[...e[6]||(e[6]=[l("div",{class:"i-carbon:zoom-out"},null,-1)])]),_:1}),t(i,{title:"Edit notes",to:"/notes-edit",target:"_blank"},{default:s(()=>[...e[7]||(e[7]=[l("div",{class:"i-carbon:edit"},null,-1)])]),_:1}),t(i,{title:"Help",class:"rounded-full",onClick:e[2]||(e[2]=c=>r.value=!0)},{default:s(()=>[...e[8]||(e[8]=[l("div",{class:"i-carbon:help"},null,-1)])]),_:1}),e[9]||(e[9]=l("div",{class:"flex-auto"},null,-1)),l("div",O,C(a.value)+" / "+C(o(x)),1)])])])],64))}});export{le as default};
